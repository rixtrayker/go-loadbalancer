[server]
port = 8080
host = "0.0.0.0"
algorithm = "round-robin"
readTimeout = 30
writeTimeout = 30
idleTimeout = 120
shutdownTimeout = 20

[[backends]]
name = "backend1"
url = "http://localhost:8081"
weight = 1
maxConns = 100

[[backends]]
name = "backend2"
url = "http://localhost:8082"
weight = 1
maxConns = 100

[policies.rateLimit]
enabled = true
requestsPer = 100
period = 60

[policies.security]
allowedIPs = ["127.0.0.1", "::1"]

[policies.transform]
addHeaders = { "X-LoadBalancer" = "true" }
removeHeaders = ["X-Forwarded-For"] 